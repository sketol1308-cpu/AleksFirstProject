<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test - No Database</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <div class="app-logo">
                <div class="logo-icon">ğŸ’¬</div>
                <h1>ChatApp - Simple Test</h1>
                <p class="tagline">Testing without database</p>
            </div>

            <div id="signupForm" class="form-section active">
                <h2>Create Account (Simple Test)</h2>
                <div id="signupMessage" style="background: #4CAF50; color: white; padding: 10px; border-radius: 8px; margin-bottom: 15px; display: none; font-weight: bold;"></div>
                <form id="signupFormElement">
                    <div class="input-group">
                        <label for="signupUsername">Username</label>
                        <input type="text" id="signupUsername" placeholder="Choose a username" required minlength="3">
                    </div>
                    <div class="input-group">
                        <label for="signupAvatar">Choose Avatar</label>
                        <div class="avatar-selector" id="avatarSelector">
                            <div class="avatar-option selected" data-avatar="ğŸ˜€">ğŸ˜€</div>
                            <div class="avatar-option" data-avatar="ğŸ˜">ğŸ˜</div>
                            <div class="avatar-option" data-avatar="ğŸ¤©">ğŸ¤©</div>
                            <div class="avatar-option" data-avatar="ğŸ¥³">ğŸ¥³</div>
                            <div class="avatar-option" data-avatar="ğŸ˜º">ğŸ˜º</div>
                            <div class="avatar-option" data-avatar="ğŸ¦Š">ğŸ¦Š</div>
                            <div class="avatar-option" data-avatar="ğŸ¼">ğŸ¼</div>
                            <div class="avatar-option" data-avatar="ğŸ¦„">ğŸ¦„</div>
                        </div>
                        <input type="hidden" id="selectedAvatar" value="ğŸ˜€" required>
                    </div>
                    <button type="submit" class="btn-primary" id="signupBtn">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Avatar selection
            const avatarOptions = document.querySelectorAll('.avatar-option');
            avatarOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const emoji = this.getAttribute('data-avatar');
                    document.getElementById('selectedAvatar').value = emoji;

                    avatarOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });

            // Signup form
            const signupFormElement = document.getElementById('signupFormElement');
            const signupBtn = document.getElementById('signupBtn');
            const signupMessage = document.getElementById('signupMessage');

            signupFormElement.addEventListener('submit', function(e) {
                e.preventDefault();

                signupMessage.style.display = 'block';
                signupMessage.textContent = 'âœ“ Step 1: Button clicked!';
                signupBtn.disabled = true;

                const username = document.getElementById('signupUsername').value.trim();
                const avatar = document.getElementById('selectedAvatar').value;

                if (!username || username.length < 3) {
                    signupMessage.textContent = 'âš  Username must be at least 3 characters';
                    signupMessage.style.background = '#ff9800';
                    signupBtn.disabled = false;
                    return;
                }

                setTimeout(() => {
                    signupMessage.textContent = 'âœ“ Step 2: Username is valid!';
                }, 500);

                setTimeout(() => {
                    signupMessage.textContent = 'âœ“ Step 3: Saving to browser...';

                    const userData = {
                        username: username,
                        avatar: avatar
                    };

                    localStorage.setItem('chatapp_user', JSON.stringify(userData));
                }, 1000);

                setTimeout(() => {
                    signupMessage.textContent = 'âœ“ Step 4: Redirecting in 1 second...';
                }, 1500);

                setTimeout(() => {
                    signupMessage.textContent = 'ğŸš€ Redirecting NOW to black square!';
                    console.log('About to redirect...');
                    window.location.href = 'test.html';
                }, 2500);
            });
        });
    </script>
</body>
</html>
